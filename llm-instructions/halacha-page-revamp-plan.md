# תוכנית עבודה: שדרוג דף ההלכות

מסמך זה מפרט את תוכנית הפעולה המלאה לשדרוג דף ההלכות (HalachaPage) באפליקציה.

## 1. המטרה (What We Want to Do)

לשדרג את דף ההלכות הקיים ולהפוך אותו לדף תוכן מובנה, מעוצב, ורב-לשוני (עברית ואנגלית), שיהיה קל לתחזוקה ולהרחבה בעתיד.

הדף יחולק לקטגוריות הבאות:

- מבוא
- שאלות נפוצות
- מעשרות
- הכנסות
- הוצאות

## 2. הגישה הטכנית (How We Want to Do It)

- **ניהול תרגומים (i18n):**

  - נשתמש בספריית `react-i18next` יחד עם `i18next-http-backend` לטעינה דינמית של תרגומים.
  - **ארכיטקטורה נכונה:** קובץ ההגדרות `src/lib/i18n.ts` יכיל **אך ורק לוגיקת תצורה**.
  - כל התרגומים יאוחסנו בקבצי JSON חיצוניים תחת התיקייה `public/locales`.
  - מבנה הקבצים יהיה: `public/locales/{language}/{namespace}.json` (לדוגמה: `public/locales/he/halacha-faq.json`).

- **מבנה ממשק המשתמש (UI):**

  - נשתמש ברכיב `Tabs` של `shadcn/ui` כדי ליצור את הניווט בין הקטגוריות.
  - בתוך כל לשונית, נשתמש ברכיב `Accordion` כדי להציג את התוכן בצורה מסודרת.
  - כל הטקסטים יוצגו באמצעות ה-hook `useTranslation` כדי לתמוך בהחלפת שפות.

- **מבנה הקוד (Code Structure):**
  - הקומפוננטה `HalachaPage.tsx` תעוצב מחדש.
  - התוכן של כל לשונית יפוצל לקומפוננטה ייעודית משלו (למשל `FaqTab.tsx`) כדי לשמור על קוד נקי וקריא.

## 3. שלבי ביצוע (Execution Steps)

| שלב | תיאור המשימה                                                                 | סטטוס     |
| :-- | :--------------------------------------------------------------------------- | :-------- |
| 1   | יצירת ענף git חדש: `feature/improve-halacha-page`                            | `בוצע`    |
| 2   | התקנת ספריות נדרשות: `i18next`, `react-i18next`, `i18next-http-backend`      | `בוצע`    |
| 3   | יצירה מחדש של קובץ הגדרות נקי ב-`src/lib/i18n.ts`                            | `בוצע`    |
| 4   | יצירת מבנה התיקיות `public/locales/he` ו-`public/locales/en`                 | `בוצע`    |
| 5   | יצירת קובץ תרגום משותף: `halacha-common.json` (בשתי השפות)                   | `בוצע`    |
| 6   | יצירת קובץ תרגום ללשונית "מבוא": `halacha-introduction.json` (בשתי השפות)    | `בוצע`    |
| 7   | יצירת קובץ תרגום ללשונית "שאלות נפוצות": `halacha-faq.json` (בשתי השפות)     | `בוצע`    |
| 8   | יצירת קבצי תרגום זמניים לשאר הלשוניות (מעשרות, הכנסות, הוצאות)               | `בוצע`    |
| 9   | בנייה מחדש של הקומפוננטה `HalachaPage.tsx` עם `Tabs` ופיצול לקומפוננטות-בנות | `בוצע`    |
| 10  | חיבור בורר השפה הקיים ב`LanguageAndDisplaySettingsCard.tsx` למערכת ה-i18n    | `בוצע`    |
| 11  | קליטת התכנים הסופיים מהמשתמש ועדכון קבצי ה-JSON                              | `לא בוצע` |
| 12  | ביצוע commit מסודר עם כל השינויים                                            | `לא בוצע` |

---

מסמך זה ישמש אותנו כמפת דרכים. בכל שלב, נוכל לעדכן את הסטטוס שלו.
