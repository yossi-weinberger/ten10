# ייבוא תנועות מקבצי CSV/Excel ותבניות בנקים

## תיאור

פיצ'ר מקיף לייבוא תנועות מקבצי CSV/Excel ותבניות בנקים ישראליים.

## מטרה

לאפשר למשתמשים לייבא תנועות מהבנק/כרטיס אשראי במקום להזין ידנית.

## תוכנית מפורטת

התוכנית המלאה נשמרה ב: `.cursor/plans/transaction_import_feature.plan.md`

## שלבי יישום

- [ ] שלב 0: הגדרת vitest והתשתית לטסטים
- [ ] שלב 1.1: parsers ל-CSV/Excel + טסטים מלאים
- [ ] שלב 1.2: סכמת Zod לולידציה + טסטים
- [ ] שלב 1.3: זיהוי כפילויות (חודש+סכום) + זיהוי recurring + טסטים
- [ ] שלב 1.4: אשף ייבוא (ImportWizard) - UI מלא
- [ ] שלב 1.5: import-service.ts - אורקסטרציה + טסטים
- [ ] שלב 2: תבניות בנקים ישראליים

## החלטות עיצוב

- **טסטים**: vitest + טסטים מלאים לכל הלוגיקה
- **מטבע**: המרה אוטומטית למטבע הראשי
- **סוג תנועה**: רק סוגים בסיסיים (income/expense/donation)
- **מיזוג**: הוספה בלבד (אין החלפה!) + אזהרה על כפילויות
- **כפילויות**: זיהוי לפי חודש + סכום (לא תאריך מדויק)
- **הוראות קבע**: זיהוי והזהרה - לא דילוג אוטומטי

## זמן משוער

~15-20 שעות עבודה (לא כולל bank templates)

## קבצים רלוונטיים

- תוכנית מלאה: `.cursor/plans/transaction_import_feature.plan.md`
- קוד Rust: `src-tauri/src/commands/transaction_commands.rs` (אין צורך בשינויים)
- שירותי מטבע: `src/lib/services/exchange-rate.service.ts` (למנף)

## הערות

- הפיצ'ר צריך לעבוד גם ב-Web וגם ב-Desktop
- פרונט משותף, לוגיקה משותפת
- אין צורך בשינוי קוד Rust - משתמשים ב-`add_transaction` הקיים

## Labels

`enhancement` `feature`
